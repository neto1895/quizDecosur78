<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Descubre tu estilo de decoraci√≥n</title>
    <style>
        /* CSS */
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 30px;
            margin-top: 20px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .question {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .question h3 {
            color: #3498db;
            margin-bottom: 15px;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .option {
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            border-color: #3498db;
            background-color: #f0f8ff;
        }
        
        .option.selected {
            border-color: #3498db;
            background-color: #e1f0fa;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 30px auto 0;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        
        .result {
            text-align: center;
            padding: 30px;
            display: none;
        }
        
        .result h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        .result p {
            font-size: 18px;
            line-height: 1.8;
        }
        
        .emoji {
            font-size: 50px;
            margin-bottom: 20px;
        }
        
        .progress {
            text-align: center;
            margin-bottom: 20px;
            color: #7f8c8d;
        }
        
        .user-info-form {
            margin-top: 30px;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 8px;
            display: none;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .thank-you {
            text-align: center;
            padding: 30px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Descubre tu estilo de decoraci√≥n</h1>
        
        <div class="progress">Pregunta <span id="current-question">1</span> de <span id="total-questions">5</span></div>
        
        <div id="questions-container">
            <!-- Las preguntas se insertar√°n aqu√≠ din√°micamente -->
        </div>
        
        <button id="submit-btn" disabled>Ver mi resultado</button>
        
        <div id="result-container" class="result">
            <!-- El resultado se mostrar√° aqu√≠ -->
        </div>
        
        <form id="user-info-form" class="user-info-form" action="https://formsubmit.co/ernesto.indec@gmail.com" method="POST">
            <input type="hidden" name="_subject" id="result-subject" value="Nuevo resultado del quiz de decoraci√≥n">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="resultado" id="result-value">
            
            <h3>¬°Queremos enviarte tu resultado!</h3>
            <div class="form-group">
                <label for="name">Nombre:</label>
                <input type="text" id="name" name="nombre" required>
            </div>
            <div class="form-group">
                <label for="email">Correo electr√≥nico:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <button type="submit">Enviar mi resultado</button>
        </form>
        
        <div id="thank-you" class="thank-you">
            <h2>¬°Gracias por participar!</h2>
            <p>Hemos enviado tu resultado a tu correo electr√≥nico.</p>
        </div>
    </div>

    <script>
        // JavaScript
        const quizData = [
            {
                pregunta: "¬øQu√© ambiente prefieres en tu espacio ideal?",
                opciones: [
                    { texto: "üèôÔ∏è Ordenado, funcional y con mucho espacio despejado", estilo: "minimalista" },
                    { texto: "üå± Conectado con la naturaleza y materiales org√°nicos", estilo: "natural" },
                    { texto: "üèóÔ∏è Moderno con elementos industriales y urbanos", estilo: "urbano-industrial" },
                    { texto: "üåø Relajado, colorido y con sensaci√≥n de vacaciones", estilo: "tropical-boho" },
                    { texto: "üèõÔ∏è Elegante, atemporal y con detalles tradicionales", estilo: "clasico" },
                    { texto: "üé® Innovador, con combinaciones audaces y art√≠sticas", estilo: "contemporaneo" }
                ]
            },
            {
                pregunta: "¬øQu√© combinaci√≥n de colores te atrae m√°s?",
                opciones: [
                    { texto: "‚ö™ Blanco, gris y tonos neutros ultra claros", estilo: "minimalista" },
                    { texto: "üü´ Beige, verde suave y tonos tierra", estilo: "natural" },
                    { texto: "‚ö´ Gris oscuro, negro y tonos metalizados", estilo: "urbano-industrial" },
                    { texto: "üåà Colores vivos (turquesa, coral, amarillo)", estilo: "tropical-boho" },
                    { texto: "üü§ Marfil, dorado y azul profundo", estilo: "clasico" },
                    { texto: "üî∑ Contrastes fuertes (negro/blanco) con toques de color brillante", estilo: "contemporaneo" }
                ]
            },
            {
                pregunta: "¬øQu√© tipo de materiales te gustar√≠a predominaran?",
                opciones: [
                    { texto: "ü™µ Madera clara y superficies lisas sin texturas", estilo: "minimalista" },
                    { texto: "üåø Plantas naturales, lino y fibras org√°nicas", estilo: "natural" },
                    { texto: "üß± Metal, concreto visto y ladrillo expuesto", estilo: "urbano-industrial" },
                    { texto: "üß∂ Tejidos artesanales, rat√°n y bamb√∫", estilo: "tropical-boho" },
                    { texto: "ü™û M√°rmol, maderas nobles y cristal", estilo: "clasico" },
                    { texto: "‚ú® Mezcla innovadora (metales pulidos con textiles geom√©tricos)", estilo: "contemporaneo" }
                ]
            },
            {
                pregunta: "¬øC√≥mo imaginas las ventanas de tu espacio ideal?",
                opciones: [
                    { texto: "ü™ü Persianas enrollables ultra discretas", estilo: "minimalista" },
                    { texto: "üå∏ Cortinas sheer elegance o de lino transl√∫cido", estilo: "natural" },
                    { texto: "üñ§ Cortinas en tonos oscuros o met√°licos", estilo: "urbano-industrial" },
                    { texto: "ÔøΩ Persianas de bamb√∫ o estampados tropicales", estilo: "tropical-boho" },
                    { texto: "üè∫ Cortinas cl√°sicas con detalles ornamentales", estilo: "clasico" },
                    { texto: "ü§ñ Persianas motorizadas con dise√±o geom√©trico", estilo: "contemporaneo" }
                ]
            },
            {
                pregunta: "¬øQu√© elemento decorativo ser√≠a tu prioridad?",
                opciones: [
                    { texto: "üí° Iluminaci√≥n discreta y empotrada", estilo: "minimalista" },
                    { texto: "ü™¥ Un muro verde o jard√≠n interior", estilo: "natural" },
                    { texto: "üî© L√°mparas industriales o estructuras met√°licas", estilo: "urbano-industrial" },
                    { texto: "üå¥ Pasto sint√©tico o hamacas colgantes", estilo: "tropical-boho" },
                    { texto: "üñºÔ∏è Cuadros antiguos o molduras decorativas", estilo: "clasico" },
                    { texto: "üü¶ Arte moderno o piezas de dise√±o innovador", estilo: "contemporaneo" }
                ]
            }
        ];

        const resultados = {
            minimalista: {
                titulo: "üñ§ Estilo Minimalista",
                descripcion: "Menos es m√°s. L√≠neas limpias, colores neutros y acabados sutiles como el piso laminado en tonos claros, mosquiteros discretos y persianas enrollables crean ambientes elegantes y funcionales."
            },
            natural: {
                titulo: "üåø Estilo Natural",
                descripcion: "Ideal para quienes aman lo org√°nico y la frescura. Combina muros verdes, pasto sint√©tico y tonos tierra con persianas sheer elegance o cortinas en lino. Perfecto para crear un oasis en casa o una oficina viva y acogedora."
            },
            "urbano-industrial": {
                titulo: "üåá Estilo Urbano-Industrial",
                descripcion: "Para quienes buscan modernidad con car√°cter. Mezcla papel tapiz con textura de concreto o ladrillo, p√©rgolas met√°licas, y cortinas en tonos oscuros. A√±ade un toque audaz con plantas artificiales para equilibrar."
            },
            "tropical-boho": {
                titulo: "üèñÔ∏è Estilo Tropical/Boho",
                descripcion: "Perfecto para esp√≠ritus libres y ambientes relajados. Atr√©vete con muros verdes, persianas color bamb√∫ enrollables, pasto sint√©tico, y colores vivos en cortinas y papel tapiz. Un rinc√≥n de vacaciones permanente."
            },
            clasico: {
                titulo: "üè° Estilo Cl√°sico",
                descripcion: "La creatividad es prioritaria en todo lo que hacemos. Ofrecemos soluciones innovadoras que hacen que su proyecto se destaque sin dejar de ser original y funcional."
            },
            contemporaneo: {
                titulo: "üé® Estilo Contempor√°neo Creativo",
                descripcion: "Dise√±ado para los que aman la originalidad con armon√≠a. Juega con papel tapiz geom√©trico, p√©rgolas con iluminaci√≥n integrada, y combinaciones de texturas como piso laminado con alfombras coloridas. Usa cortinas de doble capa o persianas motorizadas para un toque moderno y funcional."
            }
        };

        // Variables del estado del quiz
        let currentQuestion = 0;
        const answers = [];
        const questionsContainer = document.getElementById('questions-container');
        const resultContainer = document.getElementById('result-container');
        const submitBtn = document.getElementById('submit-btn');
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const userInfoForm = document.getElementById('user-info-form');
        const thankYouMessage = document.getElementById('thank-you');
        const resultValueInput = document.getElementById('result-value');
        const resultSubjectInput = document.getElementById('result-subject');

        // Mostrar el n√∫mero total de preguntas
        totalQuestionsElement.textContent = quizData.length;

        // Funci√≥n para mostrar la pregunta actual
        function showQuestion() {
            currentQuestionElement.textContent = currentQuestion + 1;
            
            const question = quizData[currentQuestion];
            let optionsHTML = '';
            
            question.opciones.forEach((option, index) => {
                optionsHTML += `
                    <div class="option" data-index="${index}">
                        ${option.texto}
                    </div>
                `;
            });
            
            const questionHTML = `
                <div class="question">
                    <h3>${question.pregunta}</h3>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                </div>
            `;
            
            questionsContainer.innerHTML = questionHTML;
            
            // Agregar event listeners a las opciones
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', selectOption);
            });
        }

        // Funci√≥n para seleccionar una opci√≥n
        function selectOption(e) {
            const selectedIndex = parseInt(e.target.getAttribute('data-index'));
            
            // Remover selecci√≥n previa
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Marcar como seleccionada
            e.target.classList.add('selected');
            
            // Guardar respuesta
            answers[currentQuestion] = {
                questionIndex: currentQuestion,
                optionIndex: selectedIndex,
                style: quizData[currentQuestion].opciones[selectedIndex].estilo
            };
            
            // Habilitar bot√≥n de siguiente
            submitBtn.disabled = false;
            
            // Cambiar texto del bot√≥n si es la √∫ltima pregunta
            if (currentQuestion === quizData.length - 1) {
                submitBtn.textContent = 'Continuar';
            } else {
                submitBtn.textContent = 'Siguiente pregunta';
            }
        }

        // Funci√≥n para calcular el resultado
        function calculateResult() {
            // Calcular el estilo predominante
            const styleCounts = {};
            
            answers.forEach(answer => {
                const style = answer.style;
                styleCounts[style] = (styleCounts[style] || 0) + 1;
            });
            
            // Encontrar el estilo con m√°s votos
            let maxCount = 0;
            let resultStyle = 'minimalista';
            
            for (const style in styleCounts) {
                if (styleCounts[style] > maxCount) {
                    maxCount = styleCounts[style];
                    resultStyle = style;
                }
            }
            
            return resultados[resultStyle];
        }

        // Funci√≥n para mostrar el formulario de datos
        function showUserForm() {
            const result = calculateResult();
            
            // Configurar el formulario con el resultado
            resultValueInput.value = `${result.titulo}\n\n${result.descripcion}`;
            resultSubjectInput.value = `Resultado del quiz: ${result.titulo}`;
            
            // Ocultar preguntas y mostrar formulario
            questionsContainer.style.display = 'none';
            submitBtn.style.display = 'none';
            document.querySelector('.progress').style.display = 'none';
            userInfoForm.style.display = 'block';
        }

        // Funci√≥n para mostrar el resultado
        function showResult() {
            const result = calculateResult();
            
            resultContainer.innerHTML = `
                <div class="emoji">${result.titulo.split(' ')[0]}</div>
                <h2>${result.titulo}</h2>
                <p>${result.descripcion}</p>
            `;
            
            resultContainer.style.display = 'block';
            questionsContainer.style.display = 'none';
            submitBtn.style.display = 'none';
            document.querySelector('.progress').style.display = 'none';
            
            // Configurar el formulario con el resultado
            resultValueInput.value = `${result.titulo}\n\n${result.descripcion}`;
            resultSubjectInput.value = `Resultado del quiz: ${result.titulo}`;
            
            // Mostrar formulario para datos del usuario
            userInfoForm.style.display = 'block';
        }

        // Event listener para el bot√≥n de enviar
        submitBtn.addEventListener('click', () => {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                showQuestion();
                submitBtn.disabled = true;
            } else {
                showUserForm();
            }
        });

        // Manejar el env√≠o del formulario
        userInfoForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Aqu√≠ podr√≠as a√±adir validaci√≥n adicional si lo deseas
            
            // Enviar el formulario mediante Fetch API
            fetch(userInfoForm.action, {
                method: 'POST',
                body: new FormData(userInfoForm),
            })
            .then(response => {
                if (response.ok) {
                    // Mostrar mensaje de agradecimiento
                    userInfoForm.style.display = 'none';
                    resultContainer.style.display = 'none';
                    thankYouMessage.style.display = 'block';
                    
                    // Opcional: Resetear el quiz despu√©s de unos segundos
                    setTimeout(() => {
                        location.reload();
                    }, 5000);
                } else {
                    alert('Hubo un error al enviar tus datos. Por favor int√©ntalo de nuevo.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Hubo un error al enviar tus datos. Por favor int√©ntalo de nuevo.');
            });
        });

        // Iniciar el quiz
        showQuestion();
    </script>
</body>
</html>